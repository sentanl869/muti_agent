# æ–‡æ¡£æ£€æŸ¥ç³»ç»Ÿ

åŸºäº LangGraph çš„å¤š Agent æ–‡æ¡£æ£€æŸ¥å·¥å…·ï¼Œç”¨äºæ£€æŸ¥æ–‡æ¡£çš„ç« èŠ‚å®Œæ•´æ€§å’Œå†…å®¹è§„èŒƒæ€§ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ” åŒé‡æ£€æŸ¥æœºåˆ¶
- **ç« èŠ‚å®Œæ•´æ€§æ£€æŸ¥**ï¼šæ ¹æ®æ¨¡æ¿æ–‡æ¡£æ£€æŸ¥ç›®æ ‡æ–‡æ¡£çš„ç« èŠ‚ç»“æ„æ˜¯å¦å®Œæ•´
- **å†…å®¹è§„èŒƒæ£€æŸ¥**ï¼šåŸºäºé¢„å®šä¹‰è§„åˆ™æ£€æŸ¥æ–‡æ¡£å†…å®¹æ˜¯å¦ç¬¦åˆè§„èŒƒ

### ğŸ¤– å¤š Agent æ¶æ„
- **æ–‡æ¡£è·å– Agent**ï¼šè´Ÿè´£ä» HTTP æ¥å£è·å–æ–‡æ¡£å†…å®¹
- **ç»“æ„æ£€æŸ¥ Agent**ï¼šè´Ÿè´£ç« èŠ‚ç»“æ„å®Œæ•´æ€§åˆ†æ
- **å†…å®¹æ£€æŸ¥ Agent**ï¼šè´Ÿè´£å†…å®¹è§„èŒƒæ€§æ£€æŸ¥
- **æŠ¥å‘Šç”Ÿæˆ Agent**ï¼šè´Ÿè´£ç”Ÿæˆ HTML æ ¼å¼çš„æ£€æŸ¥æŠ¥å‘Š

### ğŸ“Š æ™ºèƒ½æŠ¥å‘Š
- ç”Ÿæˆç¾è§‚çš„ HTML æ ¼å¼æŠ¥å‘Š
- åŒ…å«è¯¦ç»†çš„ç»Ÿè®¡ä¿¡æ¯å’Œå¯è§†åŒ–å›¾è¡¨
- æ”¯æŒäº¤äº’å¼ç« èŠ‚æŠ˜å /å±•å¼€
- æä¾›æ”¹è¿›å»ºè®®å’Œè¿è§„è¯¦æƒ…

### âš™ï¸ çµæ´»é…ç½®
- æ”¯æŒè‡ªå®šä¹‰ LLM æ¨¡å‹å’Œ API é…ç½®
- å¯é…ç½®çš„å†…å®¹è§„èŒƒè§„åˆ™ï¼ˆYAML æ ¼å¼ï¼‰
- æ”¯æŒå¤§æ–‡æ¡£çš„åˆ†å—å¤„ç†ï¼ˆé¿å…è¶…å‡ºä¸Šä¸‹æ–‡é•¿åº¦ï¼‰

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–‡æ¡£è·å– Agent  â”‚    â”‚  ç»“æ„æ£€æŸ¥ Agent  â”‚    â”‚  å†…å®¹æ£€æŸ¥ Agent  â”‚
â”‚                â”‚    â”‚                â”‚    â”‚                â”‚
â”‚ â€¢ HTTP è¯·æ±‚     â”‚    â”‚ â€¢ ç« èŠ‚å¯¹æ¯”      â”‚    â”‚ â€¢ è§„åˆ™åŒ¹é…      â”‚
â”‚ â€¢ å†…å®¹è§£æ      â”‚    â”‚ â€¢ ç»“æ„åˆ†æ      â”‚    â”‚ â€¢ è¿è§„æ£€æµ‹      â”‚
â”‚ â€¢ æ•°æ®éªŒè¯      â”‚    â”‚ â€¢ ç›¸ä¼¼åº¦è®¡ç®—    â”‚    â”‚ â€¢ ä¸¥é‡åº¦è¯„ä¼°    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  æŠ¥å‘Šç”Ÿæˆ Agent  â”‚
                    â”‚                â”‚
                    â”‚ â€¢ æ•°æ®æ•´åˆ      â”‚
                    â”‚ â€¢ HTML æ¸²æŸ“     â”‚
                    â”‚ â€¢ å›¾è¡¨ç”Ÿæˆ      â”‚
                    â”‚ â€¢ æ–‡ä»¶è¾“å‡º      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å®‰è£…éƒ¨ç½²

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- æ”¯æŒçš„ LLM APIï¼ˆOpenAIã€Azure OpenAIã€æˆ–å…¶ä»–å…¼å®¹æ¥å£ï¼‰

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd document_checker
```

2. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

3. **é…ç½®ç³»ç»Ÿ**
```bash
# ç¼–è¾‘é…ç½®æ–‡ä»¶
vim config/config.py

# é…ç½® LLM API
# è®¾ç½® base_url å’Œ api_key

# ç¼–è¾‘è§„èŒƒè§„åˆ™ï¼ˆå¯é€‰ï¼‰
vim config/rules.yaml
```

4. **åˆ›å»ºå¿…è¦ç›®å½•**
```bash
mkdir -p logs reports
```

## é…ç½®è¯´æ˜

### LLM é…ç½®
åœ¨ `config/config.py` ä¸­é…ç½®æ‚¨çš„ LLM æœåŠ¡ï¼š

```python
class LLMConfig:
    base_url = "https://your-api-endpoint.com/v1"  # æ‚¨çš„ API ç«¯ç‚¹
    api_key = "your-api-key"                       # æ‚¨çš„ API å¯†é’¥
    model = "gpt-3.5-turbo"                        # ä½¿ç”¨çš„æ¨¡å‹
    max_context_length = 64000                     # æœ€å¤§ä¸Šä¸‹æ–‡é•¿åº¦
```

### è§„èŒƒè§„åˆ™é…ç½®
åœ¨ `config/rules.yaml` ä¸­å®šä¹‰å†…å®¹æ£€æŸ¥è§„åˆ™ï¼š

```yaml
text_rules:
  - name: "æ ‡é¢˜è§„èŒƒ"
    pattern: "^[ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]+ã€"
    severity: "warning"
    description: "ç« èŠ‚æ ‡é¢˜åº”ä½¿ç”¨ä¸­æ–‡æ•°å­—ç¼–å·"

image_rules:
  - name: "å›¾ç‰‡æ ‡é¢˜"
    pattern: "å›¾\\s*\\d+"
    severity: "critical"
    description: "å›¾ç‰‡å¿…é¡»æœ‰æ ‡é¢˜"
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•
```bash
python main.py \
  --template-url "https://example.com/template-doc" \
  --target-url "https://example.com/target-doc"
```

### å®Œæ•´å‚æ•°ç¤ºä¾‹
```bash
python main.py \
  --template-url "https://example.com/template-doc" \
  --template-page-id "123" \
  --target-url "https://example.com/target-doc" \
  --target-page-id "456" \
  --output-dir "./custom-reports" \
  --log-level "DEBUG" \
  --verbose
```

### è¯•è¿è¡Œæ¨¡å¼
```bash
python main.py \
  --template-url "https://example.com/template" \
  --target-url "https://example.com/target" \
  --dry-run
```

## å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | å¿…éœ€ | è¯´æ˜ |
|------|------|------|
| `--template-url` | âœ… | æ¨¡æ¿æ–‡æ¡£çš„ URL |
| `--target-url` | âœ… | ç›®æ ‡æ–‡æ¡£çš„ URL |
| `--template-page-id` | âŒ | æ¨¡æ¿æ–‡æ¡£çš„é¡µé¢ ID |
| `--target-page-id` | âŒ | ç›®æ ‡æ–‡æ¡£çš„é¡µé¢ ID |
| `--output-dir` | âŒ | æŠ¥å‘Šè¾“å‡ºç›®å½• |
| `--log-level` | âŒ | æ—¥å¿—çº§åˆ« (DEBUG/INFO/WARNING/ERROR) |
| `--config-file` | âŒ | è‡ªå®šä¹‰é…ç½®æ–‡ä»¶è·¯å¾„ |
| `--dry-run` | âŒ | è¯•è¿è¡Œæ¨¡å¼ï¼ŒåªéªŒè¯å‚æ•° |
| `--verbose` | âŒ | è¯¦ç»†è¾“å‡ºæ¨¡å¼ |

## è¾“å‡ºè¯´æ˜

### æ£€æŸ¥æŠ¥å‘Š
ç³»ç»Ÿä¼šç”Ÿæˆä¸€ä¸ª HTML æ ¼å¼çš„æ£€æŸ¥æŠ¥å‘Šï¼ŒåŒ…å«ï¼š

- **æ€»ä½“æ¦‚è§ˆ**ï¼šæ£€æŸ¥çŠ¶æ€ã€é€šè¿‡ç‡ã€é—®é¢˜ç»Ÿè®¡
- **ç« èŠ‚å®Œæ•´æ€§**ï¼šç¼ºå¤±ç« èŠ‚ã€é¢å¤–ç« èŠ‚ã€ç»“æ„ç›¸ä¼¼åº¦
- **å†…å®¹è§„èŒƒæ€§**ï¼šè¿è§„é¡¹ç›®ã€ä¸¥é‡ç¨‹åº¦åˆ†å¸ƒã€æ”¹è¿›å»ºè®®
- **è¯¦ç»†ç»Ÿè®¡**ï¼šç« èŠ‚åˆ†å¸ƒã€å†…å®¹ç»Ÿè®¡ã€å›¾è¡¨å¯è§†åŒ–

### æ—¥å¿—æ–‡ä»¶
ç³»ç»Ÿè¿è¡Œæ—¥å¿—ä¿å­˜åœ¨ `logs/document_checker.log`ï¼ŒåŒ…å«ï¼š
- è¯¦ç»†çš„æ‰§è¡Œæ­¥éª¤
- é”™è¯¯ä¿¡æ¯å’Œè°ƒè¯•ä¿¡æ¯
- æ€§èƒ½ç»Ÿè®¡

## Docker éƒ¨ç½²

### æ„å»ºé•œåƒ
```bash
docker build -t document-checker .
```

### è¿è¡Œå®¹å™¨
```bash
docker run -it --rm \
  -v $(pwd)/reports:/app/reports \
  -v $(pwd)/logs:/app/logs \
  -e LLM_API_KEY="your-api-key" \
  -e LLM_BASE_URL="https://your-api-endpoint.com/v1" \
  document-checker \
  --template-url "https://example.com/template" \
  --target-url "https://example.com/target"
```

## å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„
```
document_checker/
â”œâ”€â”€ agents/                 # Agent æ¨¡å—
â”‚   â”œâ”€â”€ document_fetcher.py # æ–‡æ¡£è·å– Agent
â”‚   â”œâ”€â”€ structure_checker.py # ç»“æ„æ£€æŸ¥ Agent
â”‚   â”œâ”€â”€ content_checker.py  # å†…å®¹æ£€æŸ¥ Agent
â”‚   â””â”€â”€ report_generator.py # æŠ¥å‘Šç”Ÿæˆ Agent
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.py          # ä¸»é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ rules.yaml         # è§„èŒƒè§„åˆ™
â”‚   â””â”€â”€ cookies.txt        # HTTP è¯·æ±‚ cookies
â”œâ”€â”€ utils/                  # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ llm_client.py      # LLM å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ html_parser.py     # HTML è§£æå™¨
â”‚   â””â”€â”€ content_integrator.py # å†…å®¹æ•´åˆå™¨
â”œâ”€â”€ templates/              # æŠ¥å‘Šæ¨¡æ¿
â”‚   â””â”€â”€ report.html        # HTML æŠ¥å‘Šæ¨¡æ¿
â”œâ”€â”€ workflow.py            # LangGraph å·¥ä½œæµ
â”œâ”€â”€ main.py               # ä¸»ç¨‹åºå…¥å£
â””â”€â”€ requirements.txt      # ä¾èµ–åˆ—è¡¨
```

### æ‰©å±•å¼€å‘

#### æ·»åŠ æ–°çš„æ£€æŸ¥è§„åˆ™
1. åœ¨ `config/rules.yaml` ä¸­å®šä¹‰æ–°è§„åˆ™
2. åœ¨ `agents/content_checker.py` ä¸­å®ç°æ£€æŸ¥é€»è¾‘

#### è‡ªå®šä¹‰æŠ¥å‘Šæ¨¡æ¿
1. ä¿®æ”¹ `templates/report.html`
2. åœ¨ `agents/report_generator.py` ä¸­è°ƒæ•´æ•°æ®å‡†å¤‡é€»è¾‘

#### æ·»åŠ æ–°çš„ Agent
1. åœ¨ `agents/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ Agent ç±»
2. åœ¨ `workflow.py` ä¸­é›†æˆåˆ°å·¥ä½œæµ

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: æ–‡æ¡£è·å–å¤±è´¥**
A: æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œ URL æœ‰æ•ˆæ€§ï¼Œç¡®è®¤ cookies.txt é…ç½®æ­£ç¡®

**Q: LLM API è°ƒç”¨å¤±è´¥**
A: éªŒè¯ API å¯†é’¥å’Œç«¯ç‚¹é…ç½®ï¼Œæ£€æŸ¥ç½‘ç»œè¿æ¥å’Œ API é…é¢

**Q: å†…å­˜ä¸è¶³**
A: è°ƒæ•´ `max_context_length` é…ç½®ï¼Œå¯ç”¨æ–‡æ¡£åˆ†å—å¤„ç†

**Q: æŠ¥å‘Šç”Ÿæˆå¤±è´¥**
A: æ£€æŸ¥è¾“å‡ºç›®å½•æƒé™ï¼Œç¡®è®¤æ¨¡æ¿æ–‡ä»¶å®Œæ•´æ€§

### è°ƒè¯•æ¨¡å¼
```bash
python main.py \
  --template-url "..." \
  --target-url "..." \
  --log-level "DEBUG" \
  --verbose
```

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ LICENSE æ–‡ä»¶ã€‚

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤ GitHub Issue
- å‘é€é‚®ä»¶è‡³ [your-email@example.com]
